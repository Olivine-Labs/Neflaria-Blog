<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Neflaria Development Blog]]></title>
  <link href="http://Olivine-Labs.github.com/Neflaria-Blog/atom.xml" rel="self"/>
  <link href="http://Olivine-Labs.github.com/Neflaria-Blog/"/>
  <updated>2012-03-14T12:24:18-07:00</updated>
  <id>http://Olivine-Labs.github.com/Neflaria-Blog/</id>
  <author>
    <name><![CDATA[Olivine Labs]]></name>
    <email><![CDATA[projects@olivinelabs.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Status Update: A New Kind of Chat]]></title>
    <link href="http://Olivine-Labs.github.com/Neflaria-Blog/blog/2012/03/13/status-update-a-new-kind-of-chat/"/>
    <updated>2012-03-13T12:36:00-07:00</updated>
    <id>http://Olivine-Labs.github.com/Neflaria-Blog/blog/2012/03/13/status-update-a-new-kind-of-chat</id>
    <content type="html"><![CDATA[<p>Chat has always been central to Neflaria. It&#8217;s what allows everyone to form
clans, run auctions, and make lifelong friends (and sometimes enemies.) It’s the
meeting ground for the great community we have built together.</p>

<p>However, it’s also one of the most neglected areas of our application
development; we&#8217;re still running on much the same technology that existed in 2001.
In the last four years, the only significant updates updates came with
Shattered Tranquility’s quest messages, and the name colors that came with the
credit update.</p>

<p>Our vision is much larger.</p>

<p>We have finished testing out the technology that will allow us to take the chat
system further than ever. Imagine:</p>

<ul>
<li>Real-time chat: no more waiting for chat to refresh!</li>
<li>Custom chat rooms: have your own room for friends and alliances, and invite multiple friends to
private conversations!</li>
<li>Connect to chat externally: use a chat client such as
Pidgin and take part in in-game conversations when you can&#8217;t be in the game!</li>
<li>All html: just like the current chat, you won&#8217;t need any special plugins, just a
web browser!</li>
</ul>


<p>We&#8217;ve finished our proof of concept and we&#8217;re even using it internally within
Olivine Labs to communicate between developers, and we plan to open it up to
game staff as we make further progress.</p>

<p>Additionally, we now have a deadline: our goal is a <strong>June 30</strong> release. This
release will include:</p>

<ul>
<li>Brand-new website</li>
<li>Updated interface</li>
<li>New chat system</li>
<li>The implementation of a new item and equip slot: the Talisman</li>
</ul>


<p>We’re going to discuss what a Talisman is and what it means for the game in the
next post.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Rise of the Shadow Empire: The Next Age of Neflaria]]></title>
    <link href="http://Olivine-Labs.github.com/Neflaria-Blog/blog/2012/01/19/the-rise-of-the-shadow-empire-the-next-age-of-neflaria/"/>
    <updated>2012-01-19T10:46:00-08:00</updated>
    <id>http://Olivine-Labs.github.com/Neflaria-Blog/blog/2012/01/19/the-rise-of-the-shadow-empire-the-next-age-of-neflaria</id>
    <content type="html"><![CDATA[<p><img src="http://i.imgur.com/uedLr.jpg" alt="We can rebuild him. We have the technology." /></p>

<p>It&#8217;s always been our goal- at least, for the last several years- to rebuild
Neflaria with a goal of flexibility (to add new features) and maintainability
(to fix bugs.) The current codebase is pretty old and cumbersome; it has
hindered us trying to add new features and fix existing bugs, and it&#8217;s kept us
from moving forward and growing the game as we know Neflaria can.</p>

<p>Let&#8217;s talk about where Neflaria&#8217;s going, and what we&#8217;re doing with our donations.</p>

<!-- more -->


<p>The problem with doing that is time; we need to make sure that we can keep
content fresh (with, for example, the Age of Quiesence and Shattered Tranquility
updates) and maintain the current game state, juggle moderation and normal
day-to-day operations, <em>and</em> find time to rebuild the game. It&#8217;s difficult to
take the couple months it might take to rebuild the game without parts of the
live game falling apart.</p>

<p>Thanks to our amazing players, however, we&#8217;ve been able to raise enough funding
to get some help. We want to be transparent about how much we&#8217;ve made and what
we&#8217;re doing with the money- we are calling them <em>donations</em>, after all, not sales.
Here&#8217;s the breakdown:</p>

<ul>
<li>We averaged about $2,000 / month in donations from August - December;
on track for averaging $1,000 in January</li>
<li>Server costs: 6 webservers, loadbalancing, and large high-CPU database:
~$560/mo, depending on load.</li>
<li>We spent about $400 in advertising (banners, setting up a Neflaria store, etc.)</li>
<li>We spent about $400 on training (developent books, courses, etc.)</li>
<li>We spent about $1500 on software licenses (source control (Github), Photoshop,
tracking software, etc.)</li>
</ul>


<p>From August - December, we made about $11,000; of that, we spent around $5,000
between servers, software, and increasing development efficiency, leaving $6,000
left over.</p>

<p>We also spent a significant portion of our time building a new web development
framework, <a href="https://github.com/Olivine-Labs/Mint">Mint</a>,
and we&#8217;re putting together a gaming platform that we can build
Neflaria on. We&#8217;re open-sourcing much of the software we
create so that we can give it back to the community; we&#8217;ve also built other
systems that we have or are in the process of open-sourcing.</p>

<p><span class='pullquote-right' data-pullquote='what would take us *weeks* to do now will shorten to *days* '>
The money we have left over combined with  the work we&#8217;ve done on our
framework leaves us at a place where we can hire a freelancer or two to build
Neflaria the way it should be, using modern technology that we&#8217;ve built, so
that we can grow, add new features, and upgrade the game.  The quantifiable
difference is massive;
what would take us <em>weeks</em> to do now will shorten to <em>days</em>
in this new system that we&#8217;ve architected. The system will also be more
server-efficient, so that we can reduce some of our server costs and at the
same time handle more players. We&#8217;ve signed a contract for just under $6,000
to develop Neflaria on this new platform, and we expect work to start in the
next week.
</span></p>

<p>In the meantime, the donations we receive will go back into the bank; we need
to rebuild our savings a bit so that we can prepare to scale up the servers
and invest in the platform that will be running Neflaria.</p>

<p>Look out for the next blog post that will talk about what new features will be
in The Rise of the Shadow Empire! We&#8217;ve got some really cool things coming up
that we&#8217;re excited to share with you and get your feedback on. We&#8217;ll also
discuss a planned, regular update schedule and talk about what&#8217;s going on with
resets.</p>

<p>edit: Can&#8217;t get away without giving you a hint: realtime chat and the mystery
socket is involved</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Lessons Learned from The Great Database Disaster of '11]]></title>
    <link href="http://Olivine-Labs.github.com/Neflaria-Blog/blog/2012/01/09/lessons-learned-from-the-great-database-disaster-of-11/"/>
    <updated>2012-01-09T18:24:00-08:00</updated>
    <id>http://Olivine-Labs.github.com/Neflaria-Blog/blog/2012/01/09/lessons-learned-from-the-great-database-disaster-of-11</id>
    <content type="html"><![CDATA[<p>We were working on the &#8220;Shattered Tranquility&#8221; update, an
update that would give us much-needed flexibility on the items system, add new
zones and monsters to the game, and really enrich the game&#8217;s lore by providing
random monster lines and quest backstories. We set up a test server, and put a
test database installation on the production database server; one database was
called something like &#8220;Neflaria_Test&#8221;, the other &#8220;Neflaria&#8221;.</p>

<!-- more -->


<p>We were near the end of our update; we were about a week past our internal
deadline due to a few extra bugs we found. We wanted to make sure that
everything was perfectly ready; overhauling the entire items system was no
small feat. The entire team was on the project; Mattias even came back for a
few weeks to help out.</p>

<p>One day, about a week away from beta testing, I receive an ominous IM: &#8220;Oh no.&#8221;</p>

<p>While preparing the test environment for the next round of testing, we had
accidentally deleted the entire player table. This had an interesting effect;
inventories and stats were stored seperately from the player table, which was
more account-related and contained login information. So, as we scrambled to
look for backups (more on this later), players began re-creating accounts, to
find themselves having a completely different level and inventory than they had
mere minutes ago.</p>

<p>And then the next disaster was uncovered: the closest database backup we had
was from a month ago.</p>

<p>We had to make a quick decision; players were logging in, and things were
going crazy in Neflaria. We could restore the backup from a month ago, or reset
the game. We also knew that the update would be ready in about two weeks. We
didn&#8217;t want to reset, because we wanted to do a reset with the next update, and
we wanted to give everyone warning first. We didn&#8217;t want to restore the backup,
because at a month old, it would put a <em>lot</em> of players way behind. So, we took
another option and had a &#8220;crazy week&#8221; while we worked on the update.</p>

<p>Ok, so now that the background is all together, here&#8217;s what we learned.</p>

<ul>
<li>Keep better database backups. This is web-application-running 101. We <em>had</em>
a backup system, but we completely failed to check that it was running
properly, and we let a lot of players down. Now we have constant backups
that run at several intervals during the day.</li>
<li>Work on communication. A lot of players were upset, and thought we were
doing a suprise reset. <em>We won&#8217;t do that.</em> It was a mistake, but we didn&#8217;t do
a good job at communicating status. We focused all of our efforts on getting
the update done so that we could release that, when we should have diverted
some time to talk to the payers.</li>
<li>Set up contingency plans. We&#8217;ve worked on a framework that allows us to focus
on the technology behind the game, while allowing the mods and archmods to
focus on the players in the game. We still have a high activity within the
game, but we can now delegate communication to the mods.</li>
</ul>


<p>Disasters can happen; we have to do our best to plan for them and make sure
that during recovery, players know <em>exactly</em> what&#8217;s going on. Our number
one responsibility is to them.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Blogging on Octopress and Github]]></title>
    <link href="http://Olivine-Labs.github.com/Neflaria-Blog/blog/2012/01/09/blogging-on-octopress-and-github/"/>
    <updated>2012-01-09T13:50:00-08:00</updated>
    <id>http://Olivine-Labs.github.com/Neflaria-Blog/blog/2012/01/09/blogging-on-octopress-and-github</id>
    <content type="html"><![CDATA[<p>We recently made the switch to move our blog from Wordpress to a Jekyll system
called <a href="http://octopress.org/">Octopress</a>.</p>

<p>Read about it on the <a href="http://blog.olivinelabs.com/blog/2012/01/09/blogging-on-octopress-and-github/">Olivine Labs Blog</a></p>
]]></content>
  </entry>
  
</feed>
